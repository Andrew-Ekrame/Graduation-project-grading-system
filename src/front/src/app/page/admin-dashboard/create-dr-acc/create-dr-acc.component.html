<div class="container">
  <form action="" class="main-form" [formGroup]="form" (ngSubmit)="onSubmit()">
    <h1>Create Account For a Doctor</h1>

    <div class="form-group">
      <label for="FullName" class="drName">Enter Doctor's Name </label>
      <input
        type="text"
        class="name"
        placeholder="Enter Name"
        id="FullName"
        formControlName="fullName"
      />
      @if (form.get('fullName')?.touched &&
      form.get('fullName')?.errors?.['required']) {
      <div class="error-message">Name is required</div>
      }
    </div>

    <div class="form-group">
      <label for="Email" class="email-label">Enter Email</label>
      <input
        type="email"
        class="email"
        placeholder="example@gmail.com"
        id="Email"
        formControlName="email"
      />
      @if (form.get('email')?.touched &&
      form.get('email')?.errors?.['required']) {
      <div class="error-message">Email is required</div>
      } @if (form.get('email')?.touched && form.get('email')?.errors?.['email'])
      {
      <div class="error-message">Please enter a valid email</div>
      }
    </div>

    <div class="form-group">
      <label for="Password" class="pass">Enter Password </label>
      <input
        type="password"
        placeholder="Abc@123"
        class="password"
        id="Password"
        formControlName="password"
      />
      @if (form.get('password')?.touched &&
      form.get('password')?.errors?.['required']) {
      <div class="error-message">Password is required</div>
      } @if (form.get('password')?.touched &&
      form.get('password')?.errors?.['minlength']) {
      <div class="error-message">Password must be at least 8 characters</div>
      }
    </div>

    <button class="bttn" id="registerDr" [disabled]="form.invalid">
      Create
    </button>
  </form>

  @if (showMessage) {
  <div class="message" [class]="messageType">
    {{ messageText }}
  </div>
  }
</div>
@if(showPopup()){
<app-popup-status-message
  [status]="status()"
  [message]="message()"
  (popup)="closePopup()"
></app-popup-status-message>
}
